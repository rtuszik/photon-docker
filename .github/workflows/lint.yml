name: Lint-Format-Check
on:
    pull_request:
    workflow_dispatch:

permissions: {}

jobs:
    lint:
        runs-on: ubuntu-latest

        permissions:
            contents: read
            packages: read
            statuses: write

        steps:
            - name: Checkout Code
              uses: actions/checkout@v4
              with:
                  fetch-depth: 0

            - name: "Set up Python"
              uses: actions/setup-python@v5
              with:
                  python-version-file: ".python-version"

            - name: Install uv
              uses: astral-sh/setup-uv@v6

            - name: Ruff Check
              run: uvx ruff check --fix 
              run: uv ruff format
              

            - name: ty check
              run: uvx ty check

            - name: Lint Code Base
              uses: github/super-linter/slim@v7
              env:
                  FIX_MARKDOWN_PRETTIER: true
                  VALIDATE_MARKDOWN_PRETTIER: true
                  VALIDATE_GITLEAKS: true
                  VALIDATE_GITHUB_ACTIONS: true
                  GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
